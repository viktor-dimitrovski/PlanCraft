:root{
  --ng-lanesW: 320px;
  --ng-headerH1: 32px;
  --ng-headerH2: 28px;
  --ng-laneH: 56px;
  --ng-colW: 96px;
  --ng-stroke: #e5e7eb;
  --ng-accent: #2563eb;
}

/* layout */
.ng-shell{
  display:grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto 1fr;
  height: 100%;
}
.ng-toolbar{
  grid-column: 1 / span 2;
  grid-row: 1;
  display:flex; align-items:center; gap:12px; padding:8px 10px; border-bottom:1px solid var(--ng-stroke);
  background:#f8fafc;
}
.ng-gridWrap{ grid-column: 2; grid-row: 2; min-width:0; position:relative; }
.ng-left{ padding:8px; }
aside{ grid-column:1; grid-row:2; border-right:1px solid var(--ng-stroke); background:#fff; }

/* body */
.ng-scroll{ overflow:auto; height:100%; }
.ng-body{ display:grid; grid-template-columns: var(--ng-lanesW) 1fr; min-width: 900px; }

/* left */
.ng-bodyLeft{ border-right:1px solid var(--ng-stroke); background:#fff; }
.ng-headerH1{ height:var(--ng-headerH1); border-bottom:1px solid var(--ng-stroke); }
.ng-headerH2{ height:var(--ng-headerH2); border-bottom:1px solid var(--ng-stroke); }
.people .ng-person{ height:var(--ng-laneH); display:flex; align-items:center; padding:0 12px; border-bottom:1px solid rgba(2,6,23,.06); }
.ng-lane--over{ background: rgba(37,99,235,.08); }

/* right */
.ng-bodyRight{ position:relative; }
.ng-months{ display:grid; border-bottom:1px solid var(--ng-stroke); background:#fff; }
.ng-month{ font-weight:600; padding:6px 8px; border-right:1px solid var(--ng-stroke); }
.ng-cols{ display:grid; border-bottom:1px solid var(--ng-stroke); background:#fff; }
.ng-colHead{ height:var(--ng-headerH2); display:flex; align-items:center; justify-content:flex-start; border-right:1px solid var(--ng-stroke); padding:0 8px; }
.ng-colLabel{ font-size:12px; color:#334155; }

/* grid background */
.ng-gridBg{ display:grid; }
.ng-bgCol{ border-right:1px solid rgba(2,6,23,.06); }
.ng-laneRow{ height:var(--ng-laneH); border-bottom:1px solid rgba(2,6,23,.06); }

/* non-work soft */
.ng-nonworkLayer{ display:none; } /* enable if needed */

/* task layer */
.ng-taskLayer{
  position:absolute; left:0; right:0;
  top: calc(var(--ng-headerH1) + var(--ng-headerH2));
  bottom:0; pointer-events:none;
}
.ng-taskLayer *{ pointer-events:auto; }

/* sidebar phases */
.ng-phases .bank{ margin-bottom:6px; }
.bankBtn,.projBtn{ width:100%; text-align:left; padding:6px 8px; border:1px solid var(--ng-stroke); background:#fff; border-radius:6px; margin:6px 0 4px; }
.dot{ width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:8px; }
.count{ float:right; color:#64748b; }
.phaseList{ display:flex; flex-direction:column; gap:4px; padding-left:8px; }
.phaseItem{ border:1px solid var(--ng-stroke); border-left:3px solid var(--ng-accent); border-radius:8px; padding:6px 8px; background:#fff; cursor:grab; }
.phaseItem.dragging{ opacity:.7; }

/* toolbar small */
.ng-btn{ padding:6px 10px; border:1px solid var(--ng-stroke); border-radius:6px; background:#fff; cursor:pointer; }
.ng-select,.ng-input{ padding:6px 10px; border:1px solid var(--ng-stroke); border-radius:6px; background:#fff; }
.ng-pill{ display:flex; align-items:center; gap:8px; }
.ng-label{ color:#475569; font-size:12px; }

/* ghost */
.ng-ghostCard{ padding:8px 10px; border-left:4px solid var(--ng-accent); background:white; box-shadow:0 8px 24px rgba(0,0,0,.2); border-radius:10px; }
.ng-ghostTitle{ font-weight:600; font-size:13px; }


:root{ --ng-card-yshift: 0px; } /* користено за вертикално центрирање */

.ng-taskLayer{ position:absolute; left:0; right:0; top:calc(var(--ng-headerH1) + var(--ng-headerH2)); bottom:0; pointer-events:none; }
.ng-taskLayer *{ pointer-events:auto; }

.ng-card{
  position:absolute;
  height: calc(var(--ng-laneH) - 12px);
  border:1px solid var(--ng-stroke);
  border-left:4px solid var(--ng-accent);
  border-radius:10px;
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  padding:6px 8px;
  /* centriranje okolu mid-line откако TaskLayer дава top = laneCenter */
  transform: translateY(calc(-50% + var(--ng-card-yshift)));
  will-change: transform;
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}

.ng-cardDragHandle{ position:absolute; left:0; top:0; bottom:0; width:6px; cursor:grab; opacity:.35; }
.ng-cardTitle{ font-size:12px; color:#0f172a; margin-left:8px; }

.ng-card--warn{ background:#fff7ed; border-left-color:#f59e0b; }
.ng-card--selected{ outline:2px solid #94a3b8; outline-offset:1px; }
.ng-card--dragging{ opacity:.9; }

/* tooltip од TaskLayer.jsx */
.ng-tooltip{
  position:absolute;
  transform: translate(-50%, -100%);
  margin-top:-8px;
  background:#0f172a; color:#fff;
  border-radius:10px; padding:10px 12px;
  box-shadow:0 10px 24px rgba(0,0,0,.25);
  white-space:nowrap; pointer-events:none; z-index:50;
}
.ng-tooltip__title{ font-weight:600; margin-bottom:4px; }
.ng-tooltip__meta{ font-size:12px; opacity:.85; }
.ng-tooltip__keys{ font-size:12px; opacity:.7; font-style:italic; margin-top:4px; }
